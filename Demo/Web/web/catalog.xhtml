<?xml version="1.0" encoding="UTF-8"?>
<!--
  Created by IntelliJ IDEA.
  User: Admin
  Date: 23/02/2022
  Time: 23:23
-->
<!DOCTYPE html
        PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core">

<h:head>
    <title>Catalog</title>
</h:head>

<h:body>

    <div align="center">
    <h1>QUAN LY DANH MUC</h1>

    <h:form>
        <p>
            <p:commandButton value="--HOME--" id="btnHome"
                             action="home?faces-redirect=true"
            />
        </p>
    <p>
        <p:commandButton value="Them" id="btnInCa"
                         onclick="PF('add-catalog').show()"
                         />
    </p>


        <p>
            <p:commandButton value="Update"
                             onclick="PF('update-catalog').show()"
            />
        </p>

    </h:form>

    </div>


    <h:form>
        <p:dataTable var="catalog" value="#{catalogVieww.catalogList}">

            <p:column headerText="Id">
                <h:outputText value="#{catalog.id}"/>
            </p:column>

            <p:column headerText="Name">
                <h:outputText value="#{catalog.name}"/>
            </p:column>


            <p:column>
                <h:commandButton value="Delete"
                                 action="#{catalogVieww.deleteProduct(catalog.id)}" >
                    <f:setPropertyActionListener
                            target="#{catalogVieww.catalogId}"
                            value="#{catalog.id}" />
                </h:commandButton>
            </p:column>

        </p:dataTable>
    </h:form>


        <!-- Dialog Add Catalog -->
        <p:dialog header="Add Catalog" widgetVar="add-catalog" minHeight="50" width="380"  modal="true">
            <h:form>
                <table>

                    <tr>
                        <td>Id</td>
                        <td>
                            <p:inputText id="idCata" value="#{catalogVieww.catalogId}"></p:inputText>
                        </td>
                    </tr>

                    <tr>
                        <td>Name</td>
                        <td>
                            <p:inputText id="nameCata" value="#{catalogVieww.catalogName}"></p:inputText>
                        </td>
                    </tr>


                    <tr>
                        <td>
                            <p:commandButton action="#{catalogVieww.insertCatalog}"  value="Add Catalog"></p:commandButton>
                        </td>
                    </tr>
                </table>
            </h:form>
        </p:dialog>




        <!-- Dialog Update Catalog -->
        <p:dialog header="Update Catalog" widgetVar="update-catalog" minHeight="50" width="380"  modal="true">
            <h:form>
                <table>

                    <tr>
                        <td>Id</td>
                        <td>
                            <p:inputText id="idCataU" value="#{catalogVieww.catalogId}"></p:inputText>
                        </td>
                    </tr>

                    <tr>
                        <td>Name</td>
                        <td>
                            <p:inputText id="nameCataU" value="#{catalogVieww.catalogName}"></p:inputText>
                        </td>
                    </tr>


                    <tr>
                        <td>
                            <p:commandButton action="#{catalogVieww.updateCatalog(catalogVieww.catalogId)}"  value="Update Catalog"></p:commandButton>
                        </td>
                    </tr>
                </table>
            </h:form>
        </p:dialog>


</h:body>

</html>